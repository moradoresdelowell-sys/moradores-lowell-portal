// NOVO código para criar admin com módulos ES6
document.getElementById('criarAdminForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const email = document.getElementById('email').value;
    const nome = document.getElementById('nome').value;
    const senha = document.getElementById('senha').value;
    
    const resultado = document.getElementById('resultado');
    resultado.innerHTML = '<div class="result loading">Criando administrador...</div>';
    
    try {
        const db = window.firebaseDb;
        
        // Criar admin com ID único
        const adminId = 'admin-' + Date.now();
        const adminData = {
            nome: nome,
            email: email,
            senha: senha,
            role: 'admin',
            criadoEm: new Date()
        };
        
        await db.collection('usuarios').doc(adminId).set(adminData);
        
        resultado.innerHTML = `
            <div class="result success">
                ✅ Admin criado com sucesso!<br>
                ID: ${adminId}<br>
                Agora você pode fazer login!
            </div>
        `;
        
    } catch (error) {
        resultado.innerHTML = `
            <div class="result error">
                ❌ Erro: ${error.message}
            </div>
        `;
    }
});