<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moradores de Lowell - Portal Digital</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    <!-- Config Firebase -->
    <script src="firebase-config.js"></script>
</head>
<body>
    <!-- Header com Hamburguer -->
    <header class="header">
        <div class="container">
            <div class="nav-container">
                <!-- Logo e Nome -->
                <div class="logo">
                    <img src="logo-moradores.png" alt="Logo" class="logo-img">
                    <div class="logo-text">
                        <h1>Moradores de Lowell</h1>
                        <p>Portal Digital</p>
                    </div>
                </div>
                
                <!-- Menu Hamburguer -->
                <div class="hamburguer" id="hamburguer">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Menu Lateral -->
    <nav class="nav-menu-hamburguer" id="navMenu">
        <ul class="nav-list-hamburguer">
            <li><a href="#home" class="nav-link">Início</a></li>
            <li><a href="#classificados" class="nav-link">Classificados</a></li>
            <li><a href="#aluguel" class="nav-link">Aluguel</a></li>
            <li><a href="#empregos" class="nav-link">Empregos</a></li>
            <li><a href="#guia" class="nav-link">Guia Comercial</a></li>
            <li><a href="#noticias" class="nav-link">Notícias</a></li>
        </ul>
    </nav>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- INICIO - COM DESTAQUES PREMIUM -->
        <section id="home" class="content-section active">
            <div class="container">
                <h2>Início</h2>
                <p>Tudo para a comunidade brasileira de Lowell</p>
            </div>
        </section>

        <!-- CLASSIFICADOS - PRODUTOS E DOAÇÕES -->
        <section id="classificados" class="content-section">
            <div class="container">
                <h2>Classificados</h2>
                <p>Produtos e doações para nossa comunidade</p>
                <div class="section-filters">
                    <button class="filter-btn active" data-filter="todos">Todos</button>
                    <button class="filter-btn" data-filter="produtos">Produtos</button>
                    <button class="filter-btn" data-filter="doacoes">Doações</button>
                </div>
                <div class="anuncios-grid" id="anunciosGrid">
                    <!-- Anúncios do Firebase vão aqui -->
                    <div class="loading-message">Carregando classificados...</div>
                </div>
            </div>
        </section>

        <!-- ALUGUEL - QUARTO, CASA E APARTAMENTOS -->
        <section id="aluguel" class="content-section">
            <div class="container">
                <h2>Aluguel</h2>
                <p>Quartos, casas e apartamentos na região</p>
                <div class="aluguel-grid" id="aluguelGrid">
                    <!-- Imóveis do Firebase vão aqui -->
                    <div class="loading-message">Carregando imóveis...</div>
                </div>
            </div>
        </section>

        <!-- EMPREGOS - SOMENTE WHATSAPP -->
        <section id="empregos" class="content-section">
            <div class="container">
                <h2>Empregos</h2>
                <p>Oportunidades de trabalho na região</p>
                <div class="vagas-list" id="vagasList">
                    <!-- Vagas do Firebase vão aqui -->
                    <div class="loading-message">Carregando vagas...</div>
                </div>
            </div>
        </section>

        <!-- GUIA COMERCIAL - PREMIUM/DESTAQUE/GRÁTIS -->
        <section id="guia" class="content-section">
            <div class="container">
                <h2>Guia Comercial</h2>
                <p>Estabelecimentos da nossa comunidade</p>
                <div class="estabelecimentos-list" id="estabelecimentosList">
                    <!-- Estabelecimentos do Firebase vão aqui -->
                    <div class="loading-message">Carregando estabelecimentos...</div>
                </div>
            </div>
        </section>

        <!-- NOTÍCIAS -->
        <section id="noticias" class="content-section">
            <div class="container">
                <h2>Notícias</h2>
                <p>Fique informado sobre nossa comunidade</p>
                <div class="noticias-grid" id="noticiasGrid">
                    <!-- Notícias do Firebase vão aqui -->
                    <div class="loading-message">Carregando notícias...</div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer com Rádio -->
    <footer class="footer">
        <div class="container">
            <!-- Player de Rádio -->
            <div class="radio-player-footer">
                <div class="radio-info">
                    <i class="fas fa-radio"></i>
                    <span>MDL Radio</span>
                </div>
                <div class="radio-controls-footer">
                    <audio id="radioAudio" autoplay>
                        <source src="https://stream.radio.com:8000/radio.mp3" type="audio/mpeg">
                        Seu navegador não suporta o player de áudio.
                    </audio>
                    <button class="play-btn-footer" id="playBtn">
                        <i class="fas fa-pause"></i>
                    </button>
                    <div class="volume-control">
                        <i class="fas fa-volume-down"></i>
                        <input type="range" id="volumeSlider" min="0" max="100" value="50">
                        <i class="fas fa-volume-up"></i>
                    </div>
                </div>
            </div>
            
            <!-- Copyright -->
            <div class="footer-bottom">
                <p>&copy; 2024 Moradores de Lowell</p>
            </div>
        </div>
    </footer>

    <!-- LINK PRO ADMIN -->
    <a href="admin-login.html" target="_blank" style="position: fixed; bottom: 20px; right: 20px; background: #dc143c; color: white; padding: 1rem; border-radius: 50px; text-decoration: none; z-index: 9999; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">
        <i class="fas fa-plus"></i> Admin
    </a>

    <!-- Scripts -->
    <script src="script.js"></script>
    
    <!-- CARREGA ANÚNCIOS -->
    <script>
    // Carrega anúncios do Firebase
    async function carregarAnuncios() {
        try {
            const anunciosSnapshot = await db.collection('anuncios')
                .where('ativo', '==', true)
                .orderBy('dataCadastro', 'desc')
                .limit(10)
                .get();
            
            let anunciosHTML = '';
            
            if (anunciosSnapshot.empty) {
                anunciosHTML = '<p class="sem-anuncios">Nenhum anúncio cadastrado ainda.</p>';
            } else {
                anunciosSnapshot.forEach((doc) => {
                    const anuncio = doc.data();
                    anunciosHTML += `
                        <div class="anuncio-card" data-categoria="${anuncio.categoria}">
                            <h3>${anuncio.titulo}</h3>
                            <p class="categoria"><span class="cat-badge">${anuncio.categoria}</span></p>
                            <p class="descricao">${anuncio.descricao}</p>
                            <p class="preco"><strong>${anuncio.preco}</strong></p>
                            <p class="contato"><i class="fas fa-phone"></i> ${anuncio.contato}</p>
                            <p class="data"><small>${anuncio.dataExibicao}</small></p>
                        </div>
                    `;
                });
            }
            
            document.getElementById('anunciosGrid').innerHTML = anunciosHTML;
            
        } catch (error) {
            console.error('Erro ao carregar anúncios:', error);
            document.getElementById('anunciosGrid').innerHTML = '<p class="erro-carregar">Erro ao carregar anúncios.</p>';
        }
    }

    // Quando clicar em "Classificados"
    document.querySelector('a[href="#classificados"]').addEventListener('click', function() {
        setTimeout(carregarAnuncios, 300);
    });
    </script>
</body>
</html>